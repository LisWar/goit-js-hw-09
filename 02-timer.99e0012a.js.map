{"mappings":"iiBAGA,IAAAA,EAAAC,EAAA,SAGMC,EAAaC,SAASC,cAAc,oBAGtCC,EAAM,EACNC,EAAW,KACTC,EAAU,CAACC,KAAKL,SAASC,cAAc,eAAgBK,MAAMN,SAASC,cAAc,gBAAgBM,QAAQP,SAASC,cAAc,kBAAkBO,QAAQR,SAASC,cAAc,mBACpLQ,EAAMT,SAASC,cAAc,UACnCQ,EAAIC,UAAW,EAGf,IAAMC,EAAU,CACZC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAA,SAAQC,GACN,KAAIA,EAAc,IAAMH,KAAKI,OAI7B,OAAID,EAAc,GAAKH,KAAKI,OAC1BV,EAAIC,UAAW,EACfD,EAAIW,iBAAiB,QAASC,QAC9BnB,EAAMgB,EAAc,GAAKH,KAAKI,aAHhC,EAHEG,EAAAzB,GAAS0B,OAAOC,QAAQ,kCAAmC,CAACC,SAAS,c,GAe7E,SAASJ,EAAaK,GAUtB,IAAsBC,EATpBD,EAAEE,iBASkBD,EARPzB,EASbC,EAAW0B,aAAY,WAWzB,IAC0CC,EAAjCzB,EAAMC,EAAOC,EAASC,EAAWsB,EAQ1C,SAAmBC,GACjB,IAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAGN7B,EAAO+B,KAAKC,MAAMN,EAAKI,GAEvB7B,EAAQ8B,KAAKC,MAAMN,EAAMI,EAAOD,GAEhC3B,EAAU6B,KAAKC,MAAMN,EAAOI,EAAOD,EAAQD,GAE3CzB,EAAU4B,KAAKC,MAAMN,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,CAAE3B,OAAMC,QAAOC,UAASC,U,CAvBS8B,CAX9BX,GAWHtB,EAAiCyB,EAAjCzB,KAAMC,EAA2BwB,EAA3BxB,MAAOC,EAAoBuB,EAApBvB,QAASC,EAAWsB,EAAXtB,QAE7BJ,EAAQC,KAAKkC,YAAcC,EAAenC,GAC1CD,EAAQE,MAAMiC,YAAcC,EAAelC,GAC3CF,EAAQG,QAAQgC,YAAcC,EAAejC,GAC7CH,EAAQI,QAAQ+B,YAAcC,EAAehC,IAf3CmB,GAAO,KAEG,IACRL,EAAAzB,GAAS0B,OAAOkB,QAAQ,qBACxBC,cAAcvC,G,GAEjB,KAhBDM,EAAIkC,oBAAoB,QAAStB,GAGjCZ,EAAIC,UAAW,C,CA2CjB,SAAS8B,EAAeI,GAEtB,OADAA,GAAO,IACMC,SAAS,EAAE,I,CAvDxBC,UAAU/C,EAAYY,GAASM,O","sources":["src/js/02-timer.js"],"sourcesContent":["// const flatpickr = require(\"flatpickr\");\n// import flatpickr from \"flatpickr\";\n\nimport Notiflix from 'notiflix';\n\n// Notiflix.Notify.failure('NPM import of flatpickr (commented in code) does not work and displaces DIV content. \\nUsed HTML script import instead', {messageMaxLength: '150',height: '400px', width: '800px', position:'center-top', fontSize: '24px', timeout: '10000', clickToClose: 'true'});\nconst datePicker = document.querySelector(\"#datetime-picker\");\n\n// let difval = {days:0, hours:0, minutes:0, seconds:0,};\nlet dif = 0;\nlet interval = null;\nconst display = {days:document.querySelector('[data-days]'), hours:document.querySelector('[data-hours]'),minutes:document.querySelector('[data-minutes]'),seconds:document.querySelector('[data-seconds]'),}\nconst btn = document.querySelector('button')\nbtn.disabled = true;\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      if (selectedDates[0] <= Date.now()) {\n        Notiflix.Notify.warning('Please select date in the past!', {position:'center-top'})\n        return;\n      }\n      if (selectedDates[0] > Date.now()) {\n        btn.disabled = false;\n        btn.addEventListener('click', handleSubmit)\n        dif = selectedDates[0] - Date.now();\n        return;\n      }\n    },\n  };\n  flatpickr(datePicker, options).onClose\n\n\n\nfunction handleSubmit(e) {\n  e.preventDefault()\n  setCountdown(dif);\n  btn.removeEventListener('click', handleSubmit);\n  // btn.classList.add('inactive');\n\n  btn.disabled = true;\n\n}\n\nfunction setCountdown(dif) {\n  interval = setInterval(() => {\n    setData(dif)\n    dif -= 1000;\n\n    if (dif < 0) {\n      Notiflix.Notify.success(\"Відлік завершено!\")\n      clearInterval(interval);\n    }\n}, 1000);\n}\n\nfunction setData(dif) {\n  const {days, hours, minutes, seconds} = convertMs(dif);\n  // console.log('convertMs(dif): ', convertMs(dif));\n  display.days.textContent = addLeadingZero(days);\n  display.hours.textContent = addLeadingZero(hours);\n  display.minutes.textContent = addLeadingZero(minutes);\n  display.seconds.textContent = addLeadingZero(seconds);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  value+=\"\";\n  return value.padStart(2,'0');\n}"],"names":["$6JpON","parcelRequire","$84b9dae4df53835d$var$datePicker","document","querySelector","$84b9dae4df53835d$var$dif","$84b9dae4df53835d$var$interval","$84b9dae4df53835d$var$display","days","hours","minutes","seconds","$84b9dae4df53835d$var$btn","disabled","$84b9dae4df53835d$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","addEventListener","$84b9dae4df53835d$var$handleSubmit","$parcel$interopDefault","Notify","warning","position","e","dif1","preventDefault","setInterval","ref","ms","second","minute","hour","day","Math","floor","$84b9dae4df53835d$var$convertMs","textContent","$84b9dae4df53835d$var$addLeadingZero","success","clearInterval","removeEventListener","value","padStart","flatpickr"],"version":3,"file":"02-timer.99e0012a.js.map"}